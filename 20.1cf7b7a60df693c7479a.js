(function(){(this||window).webpackJsonp.registerAbsMids({"esri/core/libs/gl-matrix-2/mat4":1093,"esri/core/libs/gl-matrix-2/factories/mat3f64":1158,"esri/views/3d/support/projectionUtils":1160,"esri/core/libs/gl-matrix-2/math/mat4":1177,"esri/core/libs/gl-matrix-2/math/vec4":1219,"esri/core/libs/gl-matrix-2/quat":1220,"esri/core/libs/gl-matrix-2/quatf32":1221,"esri/core/libs/gl-matrix-2/vec3f32":1276,"esri/views/3d/layers/i3s/I3SBinaryReader":1283,"esri/core/libs/gl-matrix-2/factories/quatf64":1402,"esri/views/3d/layers/i3s/LEPCC":1403,"esri/views/3d/support/earthUtils":1404,"esri/core/libs/gl-matrix-2/math/quat":1730,"esri/core/libs/gl-matrix-2/factories/quatf32":1731,"esri/core/libs/gl-matrix-2/factories/vec3f32":1732,"esri/views/3d/webgl-engine/lib/BufferVectorMath":1734})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{1093:function(t,e,r){var n,a;n=[r.dj.c(t.i),e,r(1177)],void 0===(a=function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.mat4=r}.apply(null,n))||(t.exports=a)},1158:function(t,e,r){var n,a;n=[r.dj.c(t.i),e],void 0===(a=function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(){return[1,0,0,0,1,0,0,0,1]},e.clone=function(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]},e.fromValues=function(t,e,r,n,a,o,i,u,c){return[t,e,r,n,a,o,i,u,c]},e.createView=function(t,e){return new Float64Array(t,e,9)}}.apply(null,n))||(t.exports=a)},1160:function(t,e,r){var n,a;n=[r.dj.c(t.i),e,r(59),r(13),r(53),r(1093),r(195),r(326),r(44),r(24),r(131),r(388),r(1404),r(1734)],void 0===(a=function(t,e,r,n,a,o,i,u,c,s,l,f,h,d){var v,M,p,y,m,b,g,w;function x(t,e,r,n){return 2===t.length?(k[0]=t[0],k[1]=t[1],k[2]=0,t=k):t===r&&(i.vec3.copy(k,t),t=k),R(t,e,0,r,n,0,1)}function R(t,e,r,a,o,i,u){void 0===u&&(u=1);var c=N(e,o,_);if(n.isNone(c))return!1;if(c===P){if(t===a&&r===i)return!0;for(var s=r+3*u,l=r,f=i;l<s;l++,f++)a[f]=t[l];return!0}var h=r+3*u;for(l=r,f=i;l<h;l+=3,f+=3)c(t,l,a,f);return!0}function I(t,r){return r.spatialReference===t?r.spatialReferenceId:(r.spatialReference=t,"metersPerUnit"in r&&(r.metersPerUnit=a.getMetersPerUnitForSR(t,1)),t.wkt===e.SphericalECEFSpatialReference.wkt?r.spatialReferenceId=1:t.isWGS84?r.spatialReferenceId=2:t.isWebMercator?r.spatialReferenceId=3:t.wkt===e.WGS84ECEFSpatialReference.wkt?r.spatialReferenceId=4:4490===t.wkid?r.spatialReferenceId=5:r.spatialReferenceId=0)}function P(t,e,r,n){r[n++]=t[e++],r[n++]=t[e++],r[n]=t[e]}function T(t,e,r,n){r[n++]=G*(t[e++]/h.earthRadius),r[n++]=G*(Math.PI/2-2*Math.atan(Math.exp(-1*t[e++]/h.earthRadius))),r[n]=t[e]}function A(t,e,n,a){var o=.4999999*Math.PI,i=r.clamp(V*t[e+1],-o,o),u=Math.sin(i);n[a++]=V*t[e]*h.earthRadius,n[a++]=h.halfEarthRadius*Math.log((1+u)/(1-u)),n[a]=t[e+2]}function C(t,e,r){var a=I(e,F),o=q[a][6];return!n.isNone(o)&&(o(t,0,k,0),r!==k&&(r[0]=k[0],r[1]=k[1],r.length>2&&(r[2]=k[2])),!0)}function O(t,e){return k[0]=t.x,k[1]=t.y,k[2]=t.hasZ?t.z:0,C(k,t.spatialReference,e)}function S(t,e,r,n){var a=h.earthRadius+t[e+2],o=V*t[e+1],i=V*t[e],u=Math.cos(o);r[n++]=Math.cos(i)*u*a,r[n++]=Math.sin(i)*u*a,r[n]=Math.sin(o)*a}function E(t,e,n,a){var o=d.Vec3Compact.length(t,e),i=r.asinClamped(t[e+2]/(0===o?1:o)),u=Math.atan2(t[e+1],t[e]);n[a++]=G*u,n[a++]=G*i,n[a]=o-h.earthRadius}function U(t,e,r,n){var a=Y,o=V*t[e],i=V*t[e+1],u=t[e+2],c=Math.sin(i),s=Math.cos(i),l=a.a/Math.sqrt(1-a.e2*c*c);r[n++]=(l+u)*s*Math.cos(o),r[n++]=(l+u)*s*Math.sin(o),r[n++]=(l*(1-a.e2)+u)*c}function L(t,e,r,n){var a,o,i,u,c,s,l,f,h,d,v,M,p,y,m,b,g,w,x,R,I,P=Y,T=t[e],A=t[e+1],C=t[e+2];a=Math.abs(C),o=T*T+A*A,i=Math.sqrt(o),u=o+C*C,c=Math.sqrt(u),R=Math.atan2(A,T),s=C*C/u,l=o/u,y=P.a2/c,m=P.a3-P.a4/c,l>.3?(f=a/c*(1+l*(P.a1+y+s*m)/c),x=Math.asin(f),d=f*f,h=Math.sqrt(1-d)):(h=i/c*(1-s*(P.a5-y-l*m)/c),x=Math.acos(h),d=1-h*h,f=Math.sqrt(d)),v=1-P.e2*d,M=P.a/Math.sqrt(v),x+=w=(b=h*(m=a-(p=P.a6*M)*f)-f*(y=i-M*h))/(p/v+(g=h*y+f*m)),I=g+b*w/2,C<0&&(x=-x),r[n++]=G*R,r[n++]=G*x,r[n]=I}Object.defineProperty(e,"__esModule",{value:!0}),e.SphericalECEFSpatialReference=new s({wkt:'GEOCCS["Spherical geocentric",\n  DATUM["Not specified",\n    SPHEROID["Sphere",\' + earthUtils.earthRadius + \',0]],\n  PRIMEM["Greenwich",0.0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",EAST],\n  AXIS["Geocentric Z",NORTH]\n]'}),e.WGS84ECEFSpatialReference=new s({wkt:'GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",6378137,298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]'}),e.canProject=function(t,e){return!!N(t,e,_)},e.vectorToVector=x,e.pointToPoint=function(t,e,r,n){void 0===r&&(r=e.spatialReference),void 0===n&&(n=0),k[0]=t.x,k[1]=t.y;var a=t.z;return k[2]=void 0!==a?a:n,!!R(k,t.spatialReference,0,k,r,0,1)&&(e.x=k[0],e.y=k[1],e.spatialReference=r,void 0!==a?(e.z=k[2],e.hasZ=!0):(e.z=void 0,e.hasZ=!1),!0)},e.pointToVector=function(t,e,r,n){void 0===n&&(n=0),k[0]=t.x,k[1]=t.y;var a=t.z;return k[2]=void 0!==a?a:n,R(k,t.spatialReference,0,e,r,0,1)},e.vectorToPoint=function(t,e,r,n){var a;return r instanceof c?(a=r,n=n||a.spatialReference):f.isPoint(r)?((a=r).hasZ=!0,n=n||a.spatialReference):a=new c({spatialReference:n=r}),R(t,e,0,k,n,0,1)?(a.x=k[0],a.y=k[1],a.z=k[2],a.spatialReference=n,a):null},e.xyzToVector=function(t,e,r,n,a,o){return k[0]=t,k[1]=e,k[2]=r,R(k,n,0,a,o,0,1)},e.bufferToBuffer=R,e.localLinearScaleFactors=function(t,e,r,n){var a=I(e,F),o=I(n,D);if(a===o&&0!==a||e.equals(n))return r[0]=1,r[1]=1,r[2]=1,!0;if(1===a){var u=i.vec3.length(t),c=u/Math.sqrt(t[0]*t[0]+t[1]*t[1]),s=u/h.earthRadius;if(3===o)return r[0]=c*s,r[1]=c*s,r[2]=1,!0;if(2===o||5===o){var l=180/(h.earthRadius*Math.PI);return r[0]=l*c*s,r[1]=l*s,r[2]=1,!0}}return!1},e.computeLinearTransformation=function(t,e,r,a){var i=I(t,F),u=I(a,D);if(i===u&&1!==u&&(0!==i||t.equals(a)))return o.mat4.identity(r),o.mat4.translate(r,r,e),!0;if(1===u){var c=q[i][6],s=q[6][u];if(n.isNone(c)||n.isNone(s))return!1;c(e,0,X,0),s(X,0,H,0);var l=V*X[0],f=V*X[1],h=Math.sin(l),d=Math.cos(l),v=Math.sin(f),M=Math.cos(f),p=r;return p[0]=-h,p[4]=-v*d,p[8]=M*d,p[12]=H[0],p[1]=d,p[5]=-v*h,p[9]=M*h,p[13]=H[1],p[2]=0,p[6]=M,p[10]=v,p[14]=H[2],p[3]=0,p[7]=0,p[11]=0,p[15]=1,!0}if(3===u&&(2===i||1===i)){if(c=q[i][6],n.isNone(c))return!1;c(e,0,X,0);var y=V*X[1];A(X,0,H,0),o.mat4.identity(r),o.mat4.translate(r,r,H);var m=1/Math.cos(y);return o.mat4.scale(r,r,[m,m,1]),!0}return!1},e.transformDirection=function(t,e,r,n,a){i.vec3.copy(Z,t),i.vec3.add(W,t,e),x(Z,r,Z,a),x(W,r,W,a),i.vec3.subtract(n,W,Z),i.vec3.normalize(n,n)},e.mbsToMbs=function(t,e,r,a){var o=j(e,a,B);if(o.projector===P)return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],!0;if(n.isNone(o.projector))return!1;var i=o.source,u=o.dest;if(3===u.spatialReferenceId){var c=q[i.spatialReferenceId][2];if(n.isNone(c))return!1;c(t,0,X,0);var s=Math.abs(V*X[1])+Math.asin(t[3]/(h.earthRadius+t[2]));if(A(X,0,r,0),s>.9999*Math.PI)r[3]=Number.MAX_VALUE;else{var l=1/Math.cos(s);r[3]=l*t[3]}return!0}return o.projector(t,0,r,0),r[3]=t[3]*i.metersPerUnit/u.metersPerUnit,!0},e.extentToBoundingBox=function(t,e,r){if(null==t)return!1;var n=!0;return k[0]=null!=t.xmin?t.xmin:0,k[1]=null!=t.ymin?t.ymin:0,k[2]=null!=t.zmin?t.zmin:0,n=n&&R(k,t.spatialReference,0,e,r,0,1),k[0]=null!=t.xmax?t.xmax:0,k[1]=null!=t.ymax?t.ymax:0,k[2]=null!=t.zmax?t.zmax:0,n=n&&R(k,t.spatialReference,0,e,r,3,1),null==t.xmin&&(e[0]=-1/0),null==t.ymin&&(e[1]=-1/0),null==t.zmin&&(e[2]=-1/0),null==t.xmax&&(e[3]=1/0),null==t.ymax&&(e[4]=1/0),null==t.zmax&&(e[5]=1/0),n},e.extentToBoundingRect=function(t,e,r){if(null==t)return!1;var n=!0;return k[0]=null!=t.xmin?t.xmin:0,k[1]=null!=t.ymin?t.ymin:0,k[2]=null!=t.zmin?t.zmin:0,n=n&&R(k,t.spatialReference,0,k,r,0,1),e[0]=k[0],e[1]=k[1],k[0]=null!=t.xmax?t.xmax:0,k[1]=null!=t.ymax?t.ymax:0,k[2]=null!=t.zmax?t.zmax:0,n=n&&R(k,t.spatialReference,0,k,r,0,1),e[2]=k[0],e[3]=k[1],null==t.xmin&&(e[0]=-1/0),null==t.ymin&&(e[1]=-1/0),null==t.xmax&&(e[2]=1/0),null==t.ymax&&(e[3]=1/0),n},e.boundingRectToBoundingRect=function(t,e,r,n){return!(null==t||(e.equals(n)?(l.set(r,t),0):(k[0]=t[0],k[1]=t[1],k[2]=0,!R(k,e,0,k,n,0,1)||(r[0]=k[0],r[1]=k[1],k[0]=t[2],k[1]=t[3],k[2]=0,!R(k,e,0,k,n,0,1)||(r[2]=k[0],r[3]=k[1],0)))))},function(t){t.x2lon=function(t){return t/h.earthRadius},t.y2lat=function(t){return Math.PI/2-2*Math.atan(Math.exp(-1*t/h.earthRadius))},t.lon2x=function(t){return t*h.earthRadius},t.lat2y=function(t){var e=Math.sin(t);return h.earthRadius/2*Math.log((1+e)/(1-e))}}(e.webMercator||(e.webMercator={})),e.canProjectToWGS84ComparableLonLat=function(t){var e=I(t,F);return!!q[e][6]},e.vectorToWGS84ComparableLonLat=C,e.pointToWGS84ComparableLonLat=O,e.pointToWGS84ComparableLonLatPoint=function(t,e){var r=I(e.spatialReference,D);return!n.isNone(q[6][r])&&!!O(t,k)&&(e.x=k[0],e.y=k[1],e.z=k[2],!0)},e.wgs84ComparableLonLatToECEF=function(t,e,r,n){void 0===n&&(n=0);var a=h.earthRadius+n,o=Math.cos(r);t[0]=Math.cos(e)*o*a,t[1]=Math.sin(e)*o*a,t[2]=Math.sin(r)*a};var q=((v={})[2]=((M={})[5]=null,M[6]=P,M[1]=S,M[0]=null,M[3]=A,M[2]=P,M[4]=U,M),v[5]=((p={})[5]=P,p[6]=P,p[1]=S,p[0]=null,p[3]=null,p[2]=null,p[4]=U,p),v[3]=((y={})[5]=null,y[6]=T,y[1]=function(t,e,r,n){T(t,e,r,n),S(r,n,r,n)},y[0]=null,y[3]=P,y[2]=T,y[4]=function(t,e,r,n){T(t,e,r,n),U(r,n,r,n)},y),v[4]=((m={})[5]=L,m[6]=L,m[1]=function(t,e,r,n){L(t,e,r,n),S(r,n,r,n)},m[0]=null,m[3]=function(t,e,r,n){L(t,e,r,n),A(r,n,r,n)},m[2]=L,m[4]=P,m),v[1]=((b={})[5]=E,b[6]=E,b[1]=P,b[0]=null,b[3]=function(t,e,r,n){E(t,e,r,n),A(r,n,r,n)},b[2]=E,b[4]=function(t,e,r,n){E(t,e,r,n),U(r,n,r,n)},b),v[0]=((g={})[5]=null,g[6]=null,g[1]=null,g[0]=P,g[3]=null,g[2]=null,g[4]=null,g),v[6]=((w={})[5]=null,w[6]=P,w[1]=S,w[0]=null,w[3]=null,w[2]=P,w[4]=U,w),v);function N(t,e,r){return void 0===r&&(r=z()),j(t,e,r).projector}function j(t,e,r){if(r.source.spatialReference===t&&r.dest.spatialReference===e)return r;var n=I(t,r.source),a=I(e,r.dest);return 0===n&&0===a?t.equals(e)?r.projector=P:r.projector=null:r.projector=q[n][a],r}function z(){return{source:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},projector:P}}e.getProjector=N;var F={spatialReference:null,spatialReferenceId:0},D={spatialReference:null,spatialReferenceId:0},_=z(),B=z(),V=r.deg2rad(1),G=r.rad2deg(1),Y={a:6378137,e2:.006694379990137799,a1:42697.67270715754,a2:1823091254.6075456,a3:142.91722289812412,a4:4557728136.518864,a5:42840.589930055656,a6:.9933056200098622},k=u.vec3f64.create(),X=u.vec3f64.create(),H=u.vec3f64.create(),Z=u.vec3f64.create(),W=u.vec3f64.create()}.apply(null,n))||(t.exports=a)},1177:function(t,e,r){var n,a;n=[r.dj.c(t.i),e,r(214),r(80)],void 0===(a=function(t,e,r,n){function a(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function o(t,e,r){var n=e[0],a=e[1],o=e[2],i=e[3],u=e[4],c=e[5],s=e[6],l=e[7],f=e[8],h=e[9],d=e[10],v=e[11],M=e[12],p=e[13],y=e[14],m=e[15],b=r[0],g=r[1],w=r[2],x=r[3];return t[0]=b*n+g*u+w*f+x*M,t[1]=b*a+g*c+w*h+x*p,t[2]=b*o+g*s+w*d+x*y,t[3]=b*i+g*l+w*v+x*m,b=r[4],g=r[5],w=r[6],x=r[7],t[4]=b*n+g*u+w*f+x*M,t[5]=b*a+g*c+w*h+x*p,t[6]=b*o+g*s+w*d+x*y,t[7]=b*i+g*l+w*v+x*m,b=r[8],g=r[9],w=r[10],x=r[11],t[8]=b*n+g*u+w*f+x*M,t[9]=b*a+g*c+w*h+x*p,t[10]=b*o+g*s+w*d+x*y,t[11]=b*i+g*l+w*v+x*m,b=r[12],g=r[13],w=r[14],x=r[15],t[12]=b*n+g*u+w*f+x*M,t[13]=b*a+g*c+w*h+x*p,t[14]=b*o+g*s+w*d+x*y,t[15]=b*i+g*l+w*v+x*m,t}function i(t,e,r){var n=e[0],a=e[1],o=e[2],i=e[3],u=n+n,c=a+a,s=o+o,l=n*u,f=n*c,h=n*s,d=a*c,v=a*s,M=o*s,p=i*u,y=i*c,m=i*s;return t[0]=1-(d+M),t[1]=f+m,t[2]=h-y,t[3]=0,t[4]=f-m,t[5]=1-(l+M),t[6]=v+p,t[7]=0,t[8]=h+y,t[9]=v-p,t[10]=1-(l+d),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}Object.defineProperty(e,"__esModule",{value:!0}),e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.set=function(t,e,r,n,a,o,i,u,c,s,l,f,h,d,v,M,p){return t[0]=e,t[1]=r,t[2]=n,t[3]=a,t[4]=o,t[5]=i,t[6]=u,t[7]=c,t[8]=s,t[9]=l,t[10]=f,t[11]=h,t[12]=d,t[13]=v,t[14]=M,t[15]=p,t},e.identity=a,e.transpose=function(t,e){if(t===e){var r=e[1],n=e[2],a=e[3],o=e[6],i=e[7],u=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=o,t[11]=e[14],t[12]=a,t[13]=i,t[14]=u}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},e.invert=function(t,e){var r=e[0],n=e[1],a=e[2],o=e[3],i=e[4],u=e[5],c=e[6],s=e[7],l=e[8],f=e[9],h=e[10],d=e[11],v=e[12],M=e[13],p=e[14],y=e[15],m=r*u-n*i,b=r*c-a*i,g=r*s-o*i,w=n*c-a*u,x=n*s-o*u,R=a*s-o*c,I=l*M-f*v,P=l*p-h*v,T=l*y-d*v,A=f*p-h*M,C=f*y-d*M,O=h*y-d*p,S=m*O-b*C+g*A+w*T-x*P+R*I;return S?(S=1/S,t[0]=(u*O-c*C+s*A)*S,t[1]=(a*C-n*O-o*A)*S,t[2]=(M*R-p*x+y*w)*S,t[3]=(h*x-f*R-d*w)*S,t[4]=(c*T-i*O-s*P)*S,t[5]=(r*O-a*T+o*P)*S,t[6]=(p*g-v*R-y*b)*S,t[7]=(l*R-h*g+d*b)*S,t[8]=(i*C-u*T+s*I)*S,t[9]=(n*T-r*C-o*I)*S,t[10]=(v*x-M*g+y*m)*S,t[11]=(f*g-l*x-d*m)*S,t[12]=(u*P-i*A-c*I)*S,t[13]=(r*A-n*P+a*I)*S,t[14]=(M*b-v*w-p*m)*S,t[15]=(l*w-f*b+h*m)*S,t):null},e.adjoint=function(t,e){var r=e[0],n=e[1],a=e[2],o=e[3],i=e[4],u=e[5],c=e[6],s=e[7],l=e[8],f=e[9],h=e[10],d=e[11],v=e[12],M=e[13],p=e[14],y=e[15];return t[0]=u*(h*y-d*p)-f*(c*y-s*p)+M*(c*d-s*h),t[1]=-(n*(h*y-d*p)-f*(a*y-o*p)+M*(a*d-o*h)),t[2]=n*(c*y-s*p)-u*(a*y-o*p)+M*(a*s-o*c),t[3]=-(n*(c*d-s*h)-u*(a*d-o*h)+f*(a*s-o*c)),t[4]=-(i*(h*y-d*p)-l*(c*y-s*p)+v*(c*d-s*h)),t[5]=r*(h*y-d*p)-l*(a*y-o*p)+v*(a*d-o*h),t[6]=-(r*(c*y-s*p)-i*(a*y-o*p)+v*(a*s-o*c)),t[7]=r*(c*d-s*h)-i*(a*d-o*h)+l*(a*s-o*c),t[8]=i*(f*y-d*M)-l*(u*y-s*M)+v*(u*d-s*f),t[9]=-(r*(f*y-d*M)-l*(n*y-o*M)+v*(n*d-o*f)),t[10]=r*(u*y-s*M)-i*(n*y-o*M)+v*(n*s-o*u),t[11]=-(r*(u*d-s*f)-i*(n*d-o*f)+l*(n*s-o*u)),t[12]=-(i*(f*p-h*M)-l*(u*p-c*M)+v*(u*h-c*f)),t[13]=r*(f*p-h*M)-l*(n*p-a*M)+v*(n*h-a*f),t[14]=-(r*(u*p-c*M)-i*(n*p-a*M)+v*(n*c-a*u)),t[15]=r*(u*h-c*f)-i*(n*h-a*f)+l*(n*c-a*u),t},e.determinant=function(t){var e=t[0],r=t[1],n=t[2],a=t[3],o=t[4],i=t[5],u=t[6],c=t[7],s=t[8],l=t[9],f=t[10],h=t[11],d=t[12],v=t[13],M=t[14],p=t[15];return(e*i-r*o)*(f*p-h*M)-(e*u-n*o)*(l*p-h*v)+(e*c-a*o)*(l*M-f*v)+(r*u-n*i)*(s*p-h*d)-(r*c-a*i)*(s*M-f*d)+(n*c-a*u)*(s*v-l*d)},e.multiply=o,e.translate=function(t,e,r){var n=r[0],a=r[1],o=r[2],i=void 0,u=void 0,c=void 0,s=void 0,l=void 0,f=void 0,h=void 0,d=void 0,v=void 0,M=void 0,p=void 0,y=void 0;return e===t?(t[12]=e[0]*n+e[4]*a+e[8]*o+e[12],t[13]=e[1]*n+e[5]*a+e[9]*o+e[13],t[14]=e[2]*n+e[6]*a+e[10]*o+e[14],t[15]=e[3]*n+e[7]*a+e[11]*o+e[15]):(i=e[0],u=e[1],c=e[2],s=e[3],l=e[4],f=e[5],h=e[6],d=e[7],v=e[8],M=e[9],p=e[10],y=e[11],t[0]=i,t[1]=u,t[2]=c,t[3]=s,t[4]=l,t[5]=f,t[6]=h,t[7]=d,t[8]=v,t[9]=M,t[10]=p,t[11]=y,t[12]=i*n+l*a+v*o+e[12],t[13]=u*n+f*a+M*o+e[13],t[14]=c*n+h*a+p*o+e[14],t[15]=s*n+d*a+y*o+e[15]),t},e.scale=function(t,e,r){var n=r[0],a=r[1],o=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*a,t[5]=e[5]*a,t[6]=e[6]*a,t[7]=e[7]*a,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.rotate=function(t,e,r,a){var o,i,u,c,s,l,f,h,d,v,M,p,y,m,b,g,w,x,R,I,P,T,A,C,O=a[0],S=a[1],E=a[2],U=Math.sqrt(O*O+S*S+E*E);return U<n.EPSILON?null:(O*=U=1/U,S*=U,E*=U,o=Math.sin(r),u=1-(i=Math.cos(r)),c=e[0],s=e[1],l=e[2],f=e[3],h=e[4],d=e[5],v=e[6],M=e[7],p=e[8],y=e[9],m=e[10],b=e[11],g=O*O*u+i,w=S*O*u+E*o,x=E*O*u-S*o,R=O*S*u-E*o,I=S*S*u+i,P=E*S*u+O*o,T=O*E*u+S*o,A=S*E*u-O*o,C=E*E*u+i,t[0]=c*g+h*w+p*x,t[1]=s*g+d*w+y*x,t[2]=l*g+v*w+m*x,t[3]=f*g+M*w+b*x,t[4]=c*R+h*I+p*P,t[5]=s*R+d*I+y*P,t[6]=l*R+v*I+m*P,t[7]=f*R+M*I+b*P,t[8]=c*T+h*A+p*C,t[9]=s*T+d*A+y*C,t[10]=l*T+v*A+m*C,t[11]=f*T+M*A+b*C,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},e.rotateX=function(t,e,r){var n=Math.sin(r),a=Math.cos(r),o=e[4],i=e[5],u=e[6],c=e[7],s=e[8],l=e[9],f=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*a+s*n,t[5]=i*a+l*n,t[6]=u*a+f*n,t[7]=c*a+h*n,t[8]=s*a-o*n,t[9]=l*a-i*n,t[10]=f*a-u*n,t[11]=h*a-c*n,t},e.rotateY=function(t,e,r){var n=Math.sin(r),a=Math.cos(r),o=e[0],i=e[1],u=e[2],c=e[3],s=e[8],l=e[9],f=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*a-s*n,t[1]=i*a-l*n,t[2]=u*a-f*n,t[3]=c*a-h*n,t[8]=o*n+s*a,t[9]=i*n+l*a,t[10]=u*n+f*a,t[11]=c*n+h*a,t},e.rotateZ=function(t,e,r){var n=Math.sin(r),a=Math.cos(r),o=e[0],i=e[1],u=e[2],c=e[3],s=e[4],l=e[5],f=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*a+s*n,t[1]=i*a+l*n,t[2]=u*a+f*n,t[3]=c*a+h*n,t[4]=s*a-o*n,t[5]=l*a-i*n,t[6]=f*a-u*n,t[7]=h*a-c*n,t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromRotation=function(t,e,r){var a,o,i,u=r[0],c=r[1],s=r[2],l=Math.sqrt(u*u+c*c+s*s);return l<n.EPSILON?null:(u*=l=1/l,c*=l,s*=l,a=Math.sin(e),i=1-(o=Math.cos(e)),t[0]=u*u*i+o,t[1]=c*u*i+s*a,t[2]=s*u*i-c*a,t[3]=0,t[4]=u*c*i-s*a,t[5]=c*c*i+o,t[6]=s*c*i+u*a,t[7]=0,t[8]=u*s*i+c*a,t[9]=c*s*i-u*a,t[10]=s*s*i+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},e.fromXRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromYRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromZRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromRotationTranslation=i,e.fromQuat2=function(t,e){var r=u,n=-e[0],a=-e[1],o=-e[2],c=e[3],s=e[4],l=e[5],f=e[6],h=e[7],d=n*n+a*a+o*o+c*c;return d>0?(r[0]=2*(s*c+h*n+l*o-f*a)/d,r[1]=2*(l*c+h*a+f*n-s*o)/d,r[2]=2*(f*c+h*o+s*a-l*n)/d):(r[0]=2*(s*c+h*n+l*o-f*a),r[1]=2*(l*c+h*a+f*n-s*o),r[2]=2*(f*c+h*o+s*a-l*n)),i(t,e,r),t};var u=r.create();function c(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t[9]=e[9]-r[9],t[10]=e[10]-r[10],t[11]=e[11]-r[11],t[12]=e[12]-r[12],t[13]=e[13]-r[13],t[14]=e[14]-r[14],t[15]=e[15]-r[15],t}e.getTranslation=function(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t},e.getScaling=function(t,e){var r=e[0],n=e[1],a=e[2],o=e[4],i=e[5],u=e[6],c=e[8],s=e[9],l=e[10];return t[0]=Math.sqrt(r*r+n*n+a*a),t[1]=Math.sqrt(o*o+i*i+u*u),t[2]=Math.sqrt(c*c+s*s+l*l),t},e.getRotation=function(t,e){var r=e[0]+e[5]+e[10],n=0;return r>0?(n=2*Math.sqrt(r+1),t[3]=.25*n,t[0]=(e[6]-e[9])/n,t[1]=(e[8]-e[2])/n,t[2]=(e[1]-e[4])/n):e[0]>e[5]&&e[0]>e[10]?(n=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/n,t[0]=.25*n,t[1]=(e[1]+e[4])/n,t[2]=(e[8]+e[2])/n):e[5]>e[10]?(n=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/n,t[0]=(e[1]+e[4])/n,t[1]=.25*n,t[2]=(e[6]+e[9])/n):(n=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/n,t[0]=(e[8]+e[2])/n,t[1]=(e[6]+e[9])/n,t[2]=.25*n),t},e.fromRotationTranslationScale=function(t,e,r,n){var a=e[0],o=e[1],i=e[2],u=e[3],c=a+a,s=o+o,l=i+i,f=a*c,h=a*s,d=a*l,v=o*s,M=o*l,p=i*l,y=u*c,m=u*s,b=u*l,g=n[0],w=n[1],x=n[2];return t[0]=(1-(v+p))*g,t[1]=(h+b)*g,t[2]=(d-m)*g,t[3]=0,t[4]=(h-b)*w,t[5]=(1-(f+p))*w,t[6]=(M+y)*w,t[7]=0,t[8]=(d+m)*x,t[9]=(M-y)*x,t[10]=(1-(f+v))*x,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t},e.fromRotationTranslationScaleOrigin=function(t,e,r,n,a){var o=e[0],i=e[1],u=e[2],c=e[3],s=o+o,l=i+i,f=u+u,h=o*s,d=o*l,v=o*f,M=i*l,p=i*f,y=u*f,m=c*s,b=c*l,g=c*f,w=n[0],x=n[1],R=n[2],I=a[0],P=a[1],T=a[2],A=(1-(M+y))*w,C=(d+g)*w,O=(v-b)*w,S=(d-g)*x,E=(1-(h+y))*x,U=(p+m)*x,L=(v+b)*R,q=(p-m)*R,N=(1-(h+M))*R;return t[0]=A,t[1]=C,t[2]=O,t[3]=0,t[4]=S,t[5]=E,t[6]=U,t[7]=0,t[8]=L,t[9]=q,t[10]=N,t[11]=0,t[12]=r[0]+I-(A*I+S*P+L*T),t[13]=r[1]+P-(C*I+E*P+q*T),t[14]=r[2]+T-(O*I+U*P+N*T),t[15]=1,t},e.fromQuat=function(t,e){var r=e[0],n=e[1],a=e[2],o=e[3],i=r+r,u=n+n,c=a+a,s=r*i,l=n*i,f=n*u,h=a*i,d=a*u,v=a*c,M=o*i,p=o*u,y=o*c;return t[0]=1-f-v,t[1]=l+y,t[2]=h-p,t[3]=0,t[4]=l-y,t[5]=1-s-v,t[6]=d+M,t[7]=0,t[8]=h+p,t[9]=d-M,t[10]=1-s-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.frustum=function(t,e,r,n,a,o,i){var u=1/(r-e),c=1/(a-n),s=1/(o-i);return t[0]=2*o*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*c,t[6]=0,t[7]=0,t[8]=(r+e)*u,t[9]=(a+n)*c,t[10]=(i+o)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=i*o*2*s,t[15]=0,t},e.perspective=function(t,e,r,n,a){var o=1/Math.tan(e/2),i=void 0;return t[0]=o/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=a&&a!==1/0?(i=1/(n-a),t[10]=(a+n)*i,t[14]=2*a*n*i):(t[10]=-1,t[14]=-2*n),t},e.perspectiveFromFieldOfView=function(t,e,r,n){var a=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),i=Math.tan(e.leftDegrees*Math.PI/180),u=Math.tan(e.rightDegrees*Math.PI/180),c=2/(i+u),s=2/(a+o);return t[0]=c,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=-(i-u)*c*.5,t[9]=(a-o)*s*.5,t[10]=n/(r-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*r/(r-n),t[15]=0,t},e.ortho=function(t,e,r,n,a,o,i){var u=1/(e-r),c=1/(n-a),s=1/(o-i);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*s,t[11]=0,t[12]=(e+r)*u,t[13]=(a+n)*c,t[14]=(i+o)*s,t[15]=1,t},e.lookAt=function(t,e,r,o){var i=void 0,u=void 0,c=void 0,s=void 0,l=void 0,f=void 0,h=void 0,d=void 0,v=void 0,M=void 0,p=e[0],y=e[1],m=e[2],b=o[0],g=o[1],w=o[2],x=r[0],R=r[1],I=r[2];return Math.abs(p-x)<n.EPSILON&&Math.abs(y-R)<n.EPSILON&&Math.abs(m-I)<n.EPSILON?a(t):(h=p-x,d=y-R,v=m-I,i=g*(v*=M=1/Math.sqrt(h*h+d*d+v*v))-w*(d*=M),u=w*(h*=M)-b*v,c=b*d-g*h,(M=Math.sqrt(i*i+u*u+c*c))?(i*=M=1/M,u*=M,c*=M):(i=0,u=0,c=0),s=d*c-v*u,l=v*i-h*c,f=h*u-d*i,(M=Math.sqrt(s*s+l*l+f*f))?(s*=M=1/M,l*=M,f*=M):(s=0,l=0,f=0),t[0]=i,t[1]=s,t[2]=h,t[3]=0,t[4]=u,t[5]=l,t[6]=d,t[7]=0,t[8]=c,t[9]=f,t[10]=v,t[11]=0,t[12]=-(i*p+u*y+c*m),t[13]=-(s*p+l*y+f*m),t[14]=-(h*p+d*y+v*m),t[15]=1,t)},e.targetTo=function(t,e,r,n){var a=e[0],o=e[1],i=e[2],u=n[0],c=n[1],s=n[2],l=a-r[0],f=o-r[1],h=i-r[2],d=l*l+f*f+h*h;d>0&&(l*=d=1/Math.sqrt(d),f*=d,h*=d);var v=c*h-s*f,M=s*l-u*h,p=u*f-c*l;return(d=v*v+M*M+p*p)>0&&(v*=d=1/Math.sqrt(d),M*=d,p*=d),t[0]=v,t[1]=M,t[2]=p,t[3]=0,t[4]=f*p-h*M,t[5]=h*v-l*p,t[6]=l*M-f*v,t[7]=0,t[8]=l,t[9]=f,t[10]=h,t[11]=0,t[12]=a,t[13]=o,t[14]=i,t[15]=1,t},e.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},e.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t[9]=e[9]+r[9],t[10]=e[10]+r[10],t[11]=e[11]+r[11],t[12]=e[12]+r[12],t[13]=e[13]+r[13],t[14]=e[14]+r[14],t[15]=e[15]+r[15],t},e.subtract=c,e.multiplyScalar=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t[9]=e[9]*r,t[10]=e[10]*r,t[11]=e[11]*r,t[12]=e[12]*r,t[13]=e[13]*r,t[14]=e[14]*r,t[15]=e[15]*r,t},e.multiplyScalarAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t[9]=e[9]+r[9]*n,t[10]=e[10]+r[10]*n,t[11]=e[11]+r[11]*n,t[12]=e[12]+r[12]*n,t[13]=e[13]+r[13]*n,t[14]=e[14]+r[14]*n,t[15]=e[15]+r[15]*n,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]},e.equals=function(t,e){var r=t[0],a=t[1],o=t[2],i=t[3],u=t[4],c=t[5],s=t[6],l=t[7],f=t[8],h=t[9],d=t[10],v=t[11],M=t[12],p=t[13],y=t[14],m=t[15],b=e[0],g=e[1],w=e[2],x=e[3],R=e[4],I=e[5],P=e[6],T=e[7],A=e[8],C=e[9],O=e[10],S=e[11],E=e[12],U=e[13],L=e[14],q=e[15];return Math.abs(r-b)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(a-g)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(o-w)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(i-x)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(u-R)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(R))&&Math.abs(c-I)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(I))&&Math.abs(s-P)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(P))&&Math.abs(l-T)<=n.EPSILON*Math.max(1,Math.abs(l),Math.abs(T))&&Math.abs(f-A)<=n.EPSILON*Math.max(1,Math.abs(f),Math.abs(A))&&Math.abs(h-C)<=n.EPSILON*Math.max(1,Math.abs(h),Math.abs(C))&&Math.abs(d-O)<=n.EPSILON*Math.max(1,Math.abs(d),Math.abs(O))&&Math.abs(v-S)<=n.EPSILON*Math.max(1,Math.abs(v),Math.abs(S))&&Math.abs(M-E)<=n.EPSILON*Math.max(1,Math.abs(M),Math.abs(E))&&Math.abs(p-U)<=n.EPSILON*Math.max(1,Math.abs(p),Math.abs(U))&&Math.abs(y-L)<=n.EPSILON*Math.max(1,Math.abs(y),Math.abs(L))&&Math.abs(m-q)<=n.EPSILON*Math.max(1,Math.abs(m),Math.abs(q))},e.mul=o,e.sub=c}.apply(null,n))||(t.exports=a)},1219:function(t,e,r){var n,a;n=[r.dj.c(t.i),e,r(80)],void 0===(a=function(t,e,r){function n(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t}function a(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t[3]=e[3]*r[3],t}function o(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t[3]=e[3]/r[3],t}function i(t,e){var r=e[0]-t[0],n=e[1]-t[1],a=e[2]-t[2],o=e[3]-t[3];return Math.sqrt(r*r+n*n+a*a+o*o)}function u(t,e){var r=e[0]-t[0],n=e[1]-t[1],a=e[2]-t[2],o=e[3]-t[3];return r*r+n*n+a*a+o*o}function c(t){var e=t[0],r=t[1],n=t[2],a=t[3];return Math.sqrt(e*e+r*r+n*n+a*a)}function s(t){var e=t[0],r=t[1],n=t[2],a=t[3];return e*e+r*r+n*n+a*a}Object.defineProperty(e,"__esModule",{value:!0}),e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},e.set=function(t,e,r,n,a){return t[0]=e,t[1]=r,t[2]=n,t[3]=a,t},e.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t},e.subtract=n,e.multiply=a,e.divide=o,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t},e.min=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t[3]=Math.min(e[3],r[3]),t},e.max=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t[3]=Math.max(e[3],r[3]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t},e.scale=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t},e.scaleAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t},e.distance=i,e.squaredDistance=u,e.length=c,e.squaredLength=s,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},e.normalize=function(t,e){var r=e[0],n=e[1],a=e[2],o=e[3],i=r*r+n*n+a*a+o*o;return i>0&&(i=1/Math.sqrt(i),t[0]=r*i,t[1]=n*i,t[2]=a*i,t[3]=o*i),t},e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},e.lerp=function(t,e,r,n){var a=e[0],o=e[1],i=e[2],u=e[3];return t[0]=a+n*(r[0]-a),t[1]=o+n*(r[1]-o),t[2]=i+n*(r[2]-i),t[3]=u+n*(r[3]-u),t},e.random=function(t,e){var n,a,o,i,u,c;e=e||1;do{u=(n=2*r.RANDOM()-1)*n+(a=2*r.RANDOM()-1)*a}while(u>=1);do{c=(o=2*r.RANDOM()-1)*o+(i=2*r.RANDOM()-1)*i}while(c>=1);var s=Math.sqrt((1-u)/c);return t[0]=e*n,t[1]=e*a,t[2]=e*o*s,t[3]=e*i*s,t},e.transformMat4=function(t,e,r){var n=e[0],a=e[1],o=e[2],i=e[3];return t[0]=r[0]*n+r[4]*a+r[8]*o+r[12]*i,t[1]=r[1]*n+r[5]*a+r[9]*o+r[13]*i,t[2]=r[2]*n+r[6]*a+r[10]*o+r[14]*i,t[3]=r[3]*n+r[7]*a+r[11]*o+r[15]*i,t},e.transformQuat=function(t,e,r){var n=e[0],a=e[1],o=e[2],i=r[0],u=r[1],c=r[2],s=r[3],l=s*n+u*o-c*a,f=s*a+c*n-i*o,h=s*o+i*a-u*n,d=-i*n-u*a-c*o;return t[0]=l*s+d*-i+f*-c-h*-u,t[1]=f*s+d*-u+h*-i-l*-c,t[2]=h*s+d*-c+l*-u-f*-i,t[3]=e[3],t},e.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},e.equals=function(t,e){var n=t[0],a=t[1],o=t[2],i=t[3],u=e[0],c=e[1],s=e[2],l=e[3];return Math.abs(n-u)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(a-c)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(o-s)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(s))&&Math.abs(i-l)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(l))},e.sub=n,e.mul=a,e.div=o,e.dist=i,e.sqrDist=u,e.len=c,e.sqrLen=s}.apply(null,n))||(t.exports=a)},1220:function(t,e,r){var n,a;n=[r.dj.c(t.i),e,r(1730)],void 0===(a=function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.quat=r}.apply(null,n))||(t.exports=a)},1221:function(t,e,r){var n,a;n=[r.dj.c(t.i),e,r(1731)],void 0===(a=function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.quatf32=r}.apply(null,n))||(t.exports=a)},1276:function(t,e,r){var n,a;n=[r.dj.c(t.i),e,r(1732)],void 0===(a=function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.vec3f32=r}.apply(null,n))||(t.exports=a)},1283:function(t,e,r){var n,a;n=[r.dj.c(t.i),e,r(5),r(10),r(7),r(6),r(13),r(1403)],void 0===(a=function(t,e,r,n,a,o,i,u){Object.defineProperty(e,"__esModule",{value:!0});var c=o.getLogger("esri.views.3d.layers.i3s.I3SBinaryReader");function s(t,e,r){for(var a="",o=0;o<r;){var i=t[e+o];if(i<128)a+=String.fromCharCode(i),o++;else if(i>=192&&i<224){if(o+1>=r)throw new n("utf8-decode-error","UTF-8 Decode failed. Two byte character was truncated.");var u=(31&i)<<6|63&t[e+o+1];a+=String.fromCharCode(u),o+=2}else if(i>=224&&i<240){if(o+2>=r)throw new n("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");u=(15&i)<<12|(63&t[e+o+1])<<6|63&t[e+o+2],a+=String.fromCharCode(u),o+=3}else{if(!(i>=240&&i<248))throw new n("utf8-decode-error","UTF-8 Decode failed. Invalid multi byte sequence.");if(o+3>=r)throw new n("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");if((u=(7&i)<<18|(63&t[e+o+1])<<12|(63&t[e+o+2])<<6|63&t[e+o+3])>=65536){var c=55296+(u-65536>>10),s=56320+(1023&u);a+=String.fromCharCode(c,s)}else a+=String.fromCharCode(u);o+=4}}return a}function l(t,r){for(var n={byteOffset:0,byteCount:0,fields:Object.create(null)},a=0,o=0;o<r.length;o++){var i=r[o],u=i.valueType||i.type,c=e.valueType2ArrayBufferReader[u];n.fields[i.property]=c(t,a),a+=e.valueType2TypedArrayClassMap[u].BYTES_PER_ELEMENT}return n.byteCount=a,n}function f(t,e,r){var a,o,i=[],u=0;for(o=0;o<t;o+=1){if((a=e[o])>0){if(i.push(s(r,u,a-1)),0!==r[u+a-1])throw new n("string-array-error","Invalid string array: missing null termination.")}else i.push(null);u+=a}return i}function h(t,r){return new(0,e.valueType2TypedArrayClassMap[r.valueType])(t,r.byteOffset,r.count*r.valuesPerElement)}function d(t,e){return new Uint8Array(t,e.byteOffset,e.byteCount)}function v(t,e,r){for(var o=null!=e.header?l(t,e.header):{byteOffset:0,byteCount:0,fields:{count:r}},i={header:o,byteOffset:o.byteCount,byteCount:0,entries:Object.create(null)},u=o.byteCount,c=0;c<e.ordering.length;c++){var s=e.ordering[c],f=a.clone(e[s]);if(f.count=o.fields.count,"String"===f.valueType){if(f.byteOffset=u,f.byteCount=o.fields[s+"ByteCount"],"UTF-8"!==f.encoding)throw new n("unsupported-encoding","Unsupported String encoding.",{encoding:f.encoding})}else{if(!g(f.valueType))throw new n("unsupported-value-type","Unsupported binary valueType",{valueType:f.valueType});var h=w(f.valueType);u+=u%h!=0?h-u%h:0,f.byteOffset=u,f.byteCount=h*f.valuesPerElement*f.count}u+=f.byteCount,i.entries[s]=f}return i.byteCount=u-i.byteOffset,i}function M(t,e,r){if(e!==t&&c.error("Invalid "+r+" buffer size\n expected: "+t+", actual: "+e+")"),e<t)throw new n("buffer-too-small","Binary buffer is too small",{expectedSize:t,actualSize:e})}e.readHeader=l,e.readStringArray=f,e.createTypedView=h,e.createRawView=d,e.createAttributeDataIndex=v,e.createGeometryIndexFromDefinition=function(t,e,r){var n={header:{byteOffset:0,byteCount:t.offset,fields:{}},byteOffset:t.offset,byteCount:0,vertexAttributes:{},featureAttributes:{}},a=t.offset,o=function(t,e,r,n){var o="UInt64"===e.type?8:w(e.type),i={byteOffset:a,byteCount:o*e.component*r,count:r,valueType:e.type,valuesPerElement:e.component};a+=i.byteCount,n[t]=i};for(var u in p)t[u]&&o(p[u],t[u],e,n.vertexAttributes);if(i.isSome(r))for(var c in y)t[c]&&o(y[c],t[c],r,n.featureAttributes);return n};var p={position:"position",normal:"normal",uv0:"uv0",color:"color",uvRegion:"uvRegion"},y={featureId:"id",faceRange:"faceRange"};e.createGeometryIndexFromSchema=function(t,e){for(var n=l(t,e&&e.header),a=n.byteCount,o={header:n,byteOffset:n.byteCount,byteCount:0,vertexAttributes:{}},i=n.fields,u=null!=i.vertexCount?i.vertexCount:i.count,c=0,s=e.ordering;c<s.length;c++){var f=s[c];if(e.vertexAttributes[f]){var h=r({},e.vertexAttributes[f],{byteOffset:a,count:u}),d=b[f]?b[f]:"_"+f;o.vertexAttributes[d]=h,a+=w(h.valueType)*h.valuesPerElement*u}}var v=i.faceCount;if(e.faces&&v){o.faces={};for(var p=0,y=e.ordering;p<y.length;p++){var m=y[p];e.faces[m]&&(h=r({},e.faces[m],{byteOffset:a,count:v}),o.faces[m]=h,a+=w(h.valueType)*h.valuesPerElement*v)}}var g=i.featureCount;if(e.featureAttributes&&e.featureAttributeOrder&&g){o.featureAttributes={};for(var x=0,R=e.featureAttributeOrder;x<R.length;x++){var I=R[x];e.featureAttributes[I]&&(h=r({},e.featureAttributes[I],{byteOffset:a,count:g}),o.featureAttributes[I]=h,a+=("UInt64"===h.valueType?8:w(h.valueType))*h.valuesPerElement*g)}}return M(a,t.byteLength,"geometry"),o.byteCount=a-o.byteOffset,o};var m={position:"position",normal:"normal",uv0:"uv0",color:"color","uv-region":"uvRegion"};e.createGeometryIndexFromAttributes=function(t){for(var e={},r=0,n=t;r<n.length;r++){var a=n[r];m[a]&&(e[m[a]]={valueType:null})}return{header:null,byteOffset:0,byteCount:0,vertexAttributes:e}};var b={position:"position",normal:"normal",color:"color",uv0:"uv0",region:"uvRegion"};function g(t){return e.valueType2TypedArrayClassMap.hasOwnProperty(t)}function w(t){return g(t)?e.valueType2TypedArrayClassMap[t].BYTES_PER_ELEMENT:0}e.readBinaryAttribute=function(t,e,r){if("lepcc-rgb"===t.encoding)return u.decodeRGB(e);if("lepcc-intensity"===t.encoding)return u.decodeIntensity(e);if(null!=t.encoding&&""!==t.encoding)throw new n("unknown-attribute-storage-info-encoding","Unknown Attribute Storage Info Encoding");t["attributeByteCounts "]&&!t.attributeByteCounts&&(c.warn("Warning: Trailing space in 'attributeByteCounts '."),t.attributeByteCounts=t["attributeByteCounts "]),"ObjectIds"===t.ordering[0]&&t.hasOwnProperty("objectIds")&&(c.warn("Warning: Case error in objectIds"),t.ordering[0]="objectIds");var a=v(e,t,r);M(a.byteOffset+a.byteCount,e.byteLength,"attribute");var o=a.entries.attributeValues||a.entries.objectIds;if(o){if("String"===o.valueType){var i=a.entries.attributeByteCounts,s=h(e,i),l=d(e,o);return f(i.count,s,l)}return h(e,o)}throw new n("bad-attribute-storage-info","Bad attributeStorageInfo specification.")},e.valueType2TypedArrayClassMap={Float32:Float32Array,Float64:Float64Array,UInt8:Uint8Array,Int8:Int8Array,UInt16:Uint16Array,Int16:Int16Array,UInt32:Uint32Array,Int32:Int32Array},e.valueType2ArrayBufferReader={Float32:function(t,e){return new DataView(t,0).getFloat32(e,!0)},Float64:function(t,e){return new DataView(t,0).getFloat64(e,!0)},UInt8:function(t,e){return new DataView(t,0).getUint8(e)},Int8:function(t,e){return new DataView(t,0).getInt8(e)},UInt16:function(t,e){return new DataView(t,0).getUint16(e,!0)},Int16:function(t,e){return new DataView(t,0).getInt16(e,!0)},UInt32:function(t,e){return new DataView(t,0).getUint32(e,!0)},Int32:function(t,e){return new DataView(t,0).getInt32(e,!0)}},e.isValueType=g,e.getBytesPerValue=w}.apply(null,n))||(t.exports=a)},1402:function(t,e,r){var n,a;n=[r.dj.c(t.i),e],void 0===(a=function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(){return[0,0,0,1]},e.clone=function(t){return[t[0],t[1],t[2],t[3]]},e.fromValues=function(t,e,r,n){return[t,e,r,n]},e.createView=function(t,e){return new Float64Array(t,e,4)}}.apply(null,n))||(t.exports=a)},1403:function(t,e,r){var n,a;n=[r.dj.c(t.i),e,r(10)],void 0===(a=function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});function n(t,e,r){return{identifier:String.fromCharCode.apply(null,new Uint8Array(t,r+0,10)),version:e.getUint16(r+10,!0),checksum:e.getUint32(r+12,!0)}}function a(t,e,r){var n=[];e=o(t,e,n);for(var a=[],i=0;i<n.length;i++){a.length=0,e=o(t,e,a);for(var u=0;u<a.length;u++)r.push(a[u]+n[i])}return e}function o(t,e,n){var a=new DataView(t,e),o=a.getUint8(0),i=31&o,u=!!(32&o),c=(192&o)>>6,s=0;if(0===c)s=a.getUint32(1,!0),e+=5;else if(1===c)s=a.getUint16(1,!0),e+=3;else{if(2!==c)throw new r("lepcc-decode-error","Bad count type");s=a.getUint8(1),e+=2}if(u)throw new r("lepcc-decode-error","LUT not implemented");for(var l=Math.ceil(s*i/8),f=new Uint8Array(t,e,l),h=0,d=0,v=0,M=-1>>>32-i,p=0;p<s;p++){for(;d<i;)h|=f[v]<<d,d+=8,v+=1;n[p]=h&M,h>>>=i,(d-=i)+i>32&&(h|=f[v-1]>>8-d)}return e+v}e.decodeXYZ=function(t){var e=new DataView(t,0),o=0,i=n(t,e,o),u=i.identifier,c=i.version;if(o+=16,"LEPCC     "!==u)throw new r("lepcc-decode-error","Bad identifier");if(c>1)throw new r("lepcc-decode-error","Unknown version");var s=function(t,e){return{sizeLo:t.getUint32(e+0,!0),sizeHi:t.getUint32(e+4,!0),minX:t.getFloat64(e+8,!0),minY:t.getFloat64(e+16,!0),minZ:t.getFloat64(e+24,!0),maxX:t.getFloat64(e+32,!0),maxY:t.getFloat64(e+40,!0),maxZ:t.getFloat64(e+48,!0),errorX:t.getFloat64(e+56,!0),errorY:t.getFloat64(e+64,!0),errorZ:t.getFloat64(e+72,!0),count:t.getUint32(e+80,!0),reserved:t.getUint32(e+84,!0)}}(e,o);if(o+=88,s.sizeHi*Math.pow(2,32)+s.sizeLo!==t.byteLength)throw new r("lepcc-decode-error","Bad size");var l=new Float64Array(3*s.count),f=[],h=[],d=[],v=[];if(o=a(t,o,f),o=a(t,o,h),o=a(t,o,d),(o=a(t,o,v))!==t.byteLength)throw new r("lepcc-decode-error","Bad length");for(var M=0,p=0,y=0;y<f.length;y++){p+=f[y];for(var m=0,b=0;b<h[y];b++){m+=d[M];var g=v[M];l[3*M]=Math.min(s.maxX,s.minX+2*s.errorX*m),l[3*M+1]=Math.min(s.maxY,s.minY+2*s.errorY*p),l[3*M+2]=Math.min(s.maxZ,s.minZ+2*s.errorZ*g),M++}}return{errorX:s.errorX,errorY:s.errorY,errorZ:s.errorZ,result:l}};e.decodeRGB=function(t){var e=new DataView(t,0),a=0,o=n(t,e,a),i=o.identifier,u=o.version;if(a+=16,"ClusterRGB"!==i)throw new r("lepcc-decode-error","Bad identifier");if(u>1)throw new r("lepcc-decode-error","Unknown version");var c=function(t,e){return{sizeLo:t.getUint32(e+0,!0),sizeHi:t.getUint32(e+4,!0),count:t.getUint32(e+8,!0),colorMapCount:t.getUint16(e+12,!0),lookupMethod:t.getUint8(e+14),compressionMethod:t.getUint8(e+15)}}(e,a);if(a+=16,c.sizeHi*Math.pow(2,32)+c.sizeLo!==t.byteLength)throw new r("lepcc-decode-error","Bad size");if((2===c.lookupMethod||1===c.lookupMethod)&&0===c.compressionMethod){if(3*c.colorMapCount+c.count+a!==t.byteLength||c.colorMapCount>256)throw new r("lepcc-decode-error","Bad count");for(var s=new Uint8Array(t,a,3*c.colorMapCount),l=new Uint8Array(t,a+3*c.colorMapCount,c.count),f=new Uint8Array(3*c.count),h=0;h<c.count;h++){var d=l[h];f[3*h]=s[3*d],f[3*h+1]=s[3*d+1],f[3*h+2]=s[3*d+2]}return f}if(0===c.lookupMethod&&0===c.compressionMethod){if(3*c.count+a!==t.byteLength||0!==c.colorMapCount)throw new r("lepcc-decode-error","Bad count");return new Uint8Array(t,a).slice()}if(c.lookupMethod<=2&&1===c.compressionMethod){if(a+3!==t.byteLength||1!==c.colorMapCount)throw new r("lepcc-decode-error","Bad count");var v=e.getUint8(a),M=e.getUint8(a+1),p=e.getUint8(a+2);for(f=new Uint8Array(3*c.count),h=0;h<c.count;h++)f[3*h]=v,f[3*h+1]=M,f[3*h+2]=p;return f}throw new r("lepcc-decode-error","Bad method "+c.lookupMethod+","+c.compressionMethod)};e.decodeIntensity=function(t){var e=new DataView(t,0),a=0,i=n(t,e,a),u=i.identifier,c=i.version;if(a+=16,"Intensity "!==u)throw new r("lepcc-decode-error","Bad identifier");if(c>1)throw new r("lepcc-decode-error","Unknown version");var s=function(t,e){return{sizeLo:t.getUint32(e+0,!0),sizeHi:t.getUint32(e+4,!0),count:t.getUint32(e+8,!0),scaleFactor:t.getUint16(e+12,!0),bitsPerPoint:t.getUint8(e+14),reserved:t.getUint8(e+15)}}(e,a);if(a+=16,s.sizeHi*Math.pow(2,32)+s.sizeLo!==t.byteLength)throw new r("lepcc-decode-error","Bad size");var l=new Uint16Array(s.count);if(8===s.bitsPerPoint){if(s.count+a!==t.byteLength)throw new r("lepcc-decode-error","Bad size");for(var f=new Uint8Array(t,a,s.count),h=0;h<s.count;h++)l[h]=f[h]*s.scaleFactor}else if(16===s.bitsPerPoint){if(2*s.count+a!==t.byteLength)throw new r("lepcc-decode-error","Bad size");for(f=new Uint16Array(t,a,s.count),h=0;h<s.count;h++)l[h]=f[h]*s.scaleFactor}else{if(o(t,a,f=[])!==t.byteLength)throw new r("lepcc-decode-error","Bad size");for(h=0;h<s.count;h++)l[h]=f[h]*s.scaleFactor}return l}}.apply(null,n))||(t.exports=a)},1404:function(t,e,r){var n,a;n=[r.dj.c(t.i),e,r(59),r(147),r(195),r(326),r(44),r(1160)],void 0===(a=function(t,e,r,n,a,o,i,u){function c(t,n,a,o){var u,c;t instanceof i&&n instanceof i&&(a=n.longitude,o=n.latitude,c=t.latitude,u=t.longitude);var s=r.deg2rad(c),l=r.deg2rad(o),f=s-l,h=r.deg2rad(u)-r.deg2rad(a),d=Math.sin(f/2),v=Math.sin(h/2),M=2*r.asinClamped(Math.sqrt(d*d+Math.cos(s)*Math.cos(l)*v*v))*e.earthRadius;return Math.round(1e4*M)/1e4}function s(t,e){var r=t/15;return e||(r=Math.round(r)),r}Object.defineProperty(e,"__esModule",{value:!0}),e.earthRadius=n.wgs84Radius,e.halfEarthRadius=e.earthRadius/2,e.halfEarthCircumference=Math.PI*e.earthRadius,e.earthCircumference=2*e.halfEarthCircumference,e.metersPerDegree=e.halfEarthCircumference/180,e.getGreatCircleDistance=c,e.getGreatCircleSpanAt=function(t,e,r){var n=e.spatialReference,a=new i(e.x,t.y,n),o=new i(r.x,t.y,n),u=new i(t.x,e.y,n),s=new i(t.x,r.y,n);return{lon:c(a,o),lat:c(u,s)}},e.getLonDeltaForDistance=function(t,n){var a=n/e.earthRadius,o=r.deg2rad(t),i=Math.sin(a/2),u=Math.cos(o),c=2*r.asinClamped(Math.sqrt(i*i/(u*u)));return r.rad2deg(c)},e.getLatDeltaForDistance=function(t){return r.rad2deg(t/e.earthRadius)},e.getMaxCameraAltitude=function(t){var n=t/2,a=r.deg2rad(n);return(1-Math.sin(a))*e.earthRadius/Math.sin(a)},e.getViewExtentDistance=function(t,n){var a=r.deg2rad(n/2),o=(t+e.earthRadius)*Math.cos(a)-Math.sqrt(Math.pow(Math.cos(a)*(t+e.earthRadius),2)-t*t-2*t*e.earthRadius);return 2*r.acosClamped((Math.pow(t+e.earthRadius,2)+Math.pow(e.earthRadius,2)-Math.pow(o,2))/(2*(t+e.earthRadius)*e.earthRadius))*e.earthRadius},e.computeCartesianDistance=function(t,e){var r=u.wgs84ComparableLonLatToECEF(l,t.longitude,t.latitude,t.z||0),n=u.wgs84ComparableLonLatToECEF(f,e.longitude,e.latitude,e.z||0),a=[n[0]-r[0],n[1]-r[1],n[2]-r[2]];return Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2])},e.longitudeToTimezone=s,e.positionToTimezone=function(t,e){e||(e={hours:0,minutes:0,seconds:0}),e.hours=s(t[0],!0);var r=e.hours%1;e.hours-=r,e.minutes=60*r;var n=e.minutes%1;return e.minutes-=n,e.seconds=Math.round(60*n),e},e.distanceToIdealHorizon=function(t,r){r=r||e.earthRadius;var n=a.vec3.dot(t,t),o=r*r;return Math.sqrt(Math.abs(n-o))};var l=o.vec3f64.create(),f=o.vec3f64.create()}.apply(null,n))||(t.exports=a)},1730:function(t,e,r){var n,a;n=[r.dj.c(t.i),e,r(1158),r(1402),r(214),r(80),r(379),r(1219)],void 0===(a=function(t,e,r,n,a,o,i,u){function c(t,e,r){r*=.5;var n=Math.sin(r);return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=Math.cos(r),t}function s(t,e,r){var n=e[0],a=e[1],o=e[2],i=e[3],u=r[0],c=r[1],s=r[2],l=r[3];return t[0]=n*l+i*u+a*s-o*c,t[1]=a*l+i*c+o*u-n*s,t[2]=o*l+i*s+n*c-a*u,t[3]=i*l-n*u-a*c-o*s,t}function l(t,e,r,n){var a,i,u,c,s,l=e[0],f=e[1],h=e[2],d=e[3],v=r[0],M=r[1],p=r[2],y=r[3];return(i=l*v+f*M+h*p+d*y)<0&&(i=-i,v=-v,M=-M,p=-p,y=-y),1-i>o.EPSILON?(a=Math.acos(i),u=Math.sin(a),c=Math.sin((1-n)*a)/u,s=Math.sin(n*a)/u):(c=1-n,s=n),t[0]=c*l+s*v,t[1]=c*f+s*M,t[2]=c*h+s*p,t[3]=c*d+s*y,t}function f(t,e){var r,n=e[0]+e[4]+e[8];if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var a=0;e[4]>e[0]&&(a=1),e[8]>e[3*a+a]&&(a=2);var o=(a+1)%3,i=(a+2)%3;r=Math.sqrt(e[3*a+a]-e[3*o+o]-e[3*i+i]+1),t[a]=.5*r,r=.5/r,t[3]=(e[3*o+i]-e[3*i+o])*r,t[o]=(e[3*o+a]+e[3*a+o])*r,t[i]=(e[3*i+a]+e[3*a+i])*r}return t}Object.defineProperty(e,"__esModule",{value:!0}),e.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},e.setAxisAngle=c,e.getAxisAngle=function(t,e){var r=2*Math.acos(e[3]),n=Math.sin(r/2);return n>o.EPSILON?(t[0]=e[0]/n,t[1]=e[1]/n,t[2]=e[2]/n):(t[0]=1,t[1]=0,t[2]=0),r},e.multiply=s,e.rotateX=function(t,e,r){r*=.5;var n=e[0],a=e[1],o=e[2],i=e[3],u=Math.sin(r),c=Math.cos(r);return t[0]=n*c+i*u,t[1]=a*c+o*u,t[2]=o*c-a*u,t[3]=i*c-n*u,t},e.rotateY=function(t,e,r){r*=.5;var n=e[0],a=e[1],o=e[2],i=e[3],u=Math.sin(r),c=Math.cos(r);return t[0]=n*c-o*u,t[1]=a*c+i*u,t[2]=o*c+n*u,t[3]=i*c-a*u,t},e.rotateZ=function(t,e,r){r*=.5;var n=e[0],a=e[1],o=e[2],i=e[3],u=Math.sin(r),c=Math.cos(r);return t[0]=n*c+a*u,t[1]=a*c-n*u,t[2]=o*c+i*u,t[3]=i*c-o*u,t},e.calculateW=function(t,e){var r=e[0],n=e[1],a=e[2];return t[0]=r,t[1]=n,t[2]=a,t[3]=Math.sqrt(Math.abs(1-r*r-n*n-a*a)),t},e.slerp=l,e.random=function(t){var e=o.RANDOM(),r=o.RANDOM(),n=o.RANDOM(),a=Math.sqrt(1-e),i=Math.sqrt(e);return t[0]=a*Math.sin(2*Math.PI*r),t[1]=a*Math.cos(2*Math.PI*r),t[2]=i*Math.sin(2*Math.PI*n),t[3]=i*Math.cos(2*Math.PI*n),t},e.invert=function(t,e){var r=e[0],n=e[1],a=e[2],o=e[3],i=r*r+n*n+a*a+o*o,u=i?1/i:0;return t[0]=-r*u,t[1]=-n*u,t[2]=-a*u,t[3]=o*u,t},e.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},e.fromMat3=f,e.fromEuler=function(t,e,r,n){var a=.5*Math.PI/180;e*=a,r*=a,n*=a;var o=Math.sin(e),i=Math.cos(e),u=Math.sin(r),c=Math.cos(r),s=Math.sin(n),l=Math.cos(n);return t[0]=o*c*l-i*u*s,t[1]=i*u*l+o*c*s,t[2]=i*c*s-o*u*l,t[3]=i*c*l+o*u*s,t},e.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},e.copy=u.copy,e.set=u.set,e.add=u.add,e.mul=s,e.scale=u.scale,e.dot=u.dot,e.lerp=u.lerp,e.length=u.length,e.len=e.length,e.squaredLength=u.squaredLength,e.sqrLen=e.squaredLength,e.normalize=u.normalize,e.exactEquals=u.exactEquals,e.equals=u.equals,e.rotationTo=function(t,r,n){var a=i.dot(r,n);return a<-.999999?(i.cross(h,d,r),i.len(h)<1e-6&&i.cross(h,v,r),i.normalize(h,h),c(t,h,Math.PI),t):a>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(i.cross(h,r,n),t[0]=h[0],t[1]=h[1],t[2]=h[2],t[3]=1+a,e.normalize(t,t))};var h=a.create(),d=a.fromValues(1,0,0),v=a.fromValues(0,1,0);e.sqlerp=function(t,e,r,n,a,o){return l(M,e,a,o),l(p,r,n,o),l(t,M,p,2*o*(1-o)),t};var M=n.create(),p=n.create();e.setAxes=function(t,r,n,a){var o=y;return o[0]=n[0],o[3]=n[1],o[6]=n[2],o[1]=a[0],o[4]=a[1],o[7]=a[2],o[2]=-r[0],o[5]=-r[1],o[8]=-r[2],e.normalize(t,f(t,o))};var y=r.create()}.apply(null,n))||(t.exports=a)},1731:function(t,e,r){var n,a;n=[r.dj.c(t.i),e],void 0===(a=function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(){var t=new Float32Array(4);return t[3]=1,t},e.clone=function(t){var e=new Float32Array(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},e.fromValues=function(t,e,r,n){var a=new Float32Array(4);return a[0]=t,a[1]=e,a[2]=r,a[3]=n,a},e.createView=function(t,e){return new Float32Array(t,e,4)}}.apply(null,n))||(t.exports=a)},1732:function(t,e,r){var n,a;n=[r.dj.c(t.i),e],void 0===(a=function(t,e){function r(){return new Float32Array(3)}function n(t,e,r){var n=new Float32Array(3);return n[0]=t,n[1]=e,n[2]=r,n}function a(){return r()}function o(){return n(1,1,1)}function i(){return n(1,0,0)}function u(){return n(0,1,0)}function c(){return n(0,0,1)}Object.defineProperty(e,"__esModule",{value:!0}),e.create=r,e.clone=function(t){var e=new Float32Array(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},e.fromValues=n,e.createView=function(t,e){return new Float32Array(t,e,3)},e.zeros=a,e.ones=o,e.unitX=i,e.unitY=u,e.unitZ=c,e.ZEROS=a(),e.ONES=o(),e.UNIT_X=i(),e.UNIT_Y=u(),e.UNIT_Z=c()}.apply(null,n))||(t.exports=a)},1734:function(t,e,r){var n,a;n=[r.dj.c(t.i),e],void 0===(a=function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.length=function(t,e){var r=t[e],n=t[e+1],a=t[e+2];return Math.sqrt(r*r+n*n+a*a)},t.normalize=function(t,e){var r=t[e],n=t[e+1],a=t[e+2],o=1/Math.sqrt(r*r+n*n+a*a);t[e]*=o,t[e+1]*=o,t[e+2]*=o},t.scale=function(t,e,r){t[e]*=r,t[e+1]*=r,t[e+2]*=r},t.add=function(t,e,r,n,a,o){void 0===o&&(o=e),(a=a||t)[o]=t[e]+r[n],a[o+1]=t[e+1]+r[n+1],a[o+2]=t[e+2]+r[n+2]},t.subtract=function(t,e,r,n,a,o){void 0===o&&(o=e),(a=a||t)[o]=t[e]-r[n],a[o+1]=t[e+1]-r[n+1],a[o+2]=t[e+2]-r[n+2]}}(e.Vec3Compact||(e.Vec3Compact={}))}.apply(null,n))||(t.exports=a)}}]);