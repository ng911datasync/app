(function(){(this||window).webpackJsonp.registerAbsMids({"esri/portal/support/portalLayers":1018,"esri/layers/support/lazyLayerLoader":1127,"esri/portal/support/portalItemUtils":1209})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{1018:function(e,n,t){var r,a;r=[t.dj.c(e.i),n,t(5),t(8),t(9),t(31),t(20),t(10),t(4),t(1127),t(109),t(1209)],void 0===(a=function(e,n,t,r,a,u,c,o,i,l,s,y){function p(e){switch(e.type){case"Map Service":return function(e){return h(e).then((function(e){return e?{className:"TileLayer"}:{className:"MapImageLayer"}}))}(e);case"Feature Service":return function(e){return d(e).then((function(e){if("object"==typeof e){var n={};return null!=e.id&&(n.layerId=e.id),{className:"FeatureLayer",properties:n}}return{className:"GroupLayer"}}))}(e);case"Feature Collection":return function(e){return a(this,void 0,void 0,(function(){var n;return r(this,(function(t){switch(t.label){case 0:return[4,e.load()];case 1:return t.sent(),y.hasTypeKeyword(e,"Map Notes")?[2,{className:"MapNotesLayer"}]:y.hasTypeKeyword(e,"Route Layer")?[2,{className:"RouteLayer"}]:[4,e.fetchData()];case 2:return(n=t.sent())&&Array.isArray(n.layers)&&1===n.layers.length?[2,{className:"FeatureLayer"}]:[2,{className:"GroupLayer"}]}}))}))}(e);case"Scene Service":return function(e){return d(e).then((function(n){if("object"==typeof n){var t={},r=void 0;if(null!=n.id?(t.layerId=n.id,r=e.url+"/layers/"+n.id):r=e.url,Array.isArray(e.typeKeywords)&&e.typeKeywords.length>0)for(var a={IntegratedMesh:"IntegratedMeshLayer","3DObject":"SceneLayer",Point:"SceneLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"},u=0,c=Object.keys(a);u<c.length;u++){var o=c[u];if(-1!==e.typeKeywords.indexOf(o))return{className:a[o]}}return L(r).then((function(e){var n="SceneLayer",r={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};return e&&e.layerType&&r[e.layerType]&&(n=r[e.layerType]),{className:n,properties:t}}))}return{className:"GroupLayer"}}))}(e);case"Image Service":return function(e){return h(e).then((function(n){var t=new c(e.typeKeywords);return n?t.find((function(e){return"elevation 3d layer"===e.toLowerCase()}))?{className:"ElevationLayer"}:{className:"TileLayer"}:{className:"ImageryLayer"}}))}(e);case"Stream Service":return{className:"StreamLayer"};case"Vector Tile Service":return{className:"VectorTileLayer"};case"KML":return{className:"KMLLayer"};case"WMTS":return{className:"WMTSLayer"};case"WMS":return{className:"WMSLayer"};default:return i.reject(new o("portal:unknown-item-type","Unknown item type '${type}'",{type:e.type}))}}function f(e){return(0,l.layerLookupMap[e.className])().then((function(n){return{constructor:n,properties:e.properties}}))}function h(e){return L(e.url).then((function(e){return e.tileInfo}))}function d(e){return!e.url||e.url.match(/\/\d+$/)?i.resolve({}):e.load().then((function(){return e.fetchData()})).then((function(n){return n&&Array.isArray(n.layers)?1===n.layers.length&&{id:n.layers[0].id}:L(e.url).then((function(e){return e&&Array.isArray(e.layers)?1===e.layers.length&&{id:e.layers[0].id}:{}}))}))}function L(e){return u(e,{responseType:"json",query:{f:"json"}}).then((function(e){return e.data}))}Object.defineProperty(n,"__esModule",{value:!0}),n.fromItem=function(e){return!e.portalItem||e.portalItem instanceof s||e.portalItem.constructor&&e.portalItem.constructor._meta||(e=t({},e,{portalItem:new s(e.portalItem)})),(n=e.portalItem,n.load().then(p).then(f)).then((function(n){var r=t({portalItem:e.portalItem},n.properties),a=n.constructor;return i.resolve(new a(r))}));var n},n.selectLayerClassPath=p}.apply(null,r))||(e.exports=a)},1127:function(e,n,t){var r,a;r=[t.dj.c(e.i),n,t(4)],void 0===(a=function(e,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.layerLookupMap={BingMapsLayer:function(){return r.create((function(e){return t.e(9).then(function(){var n=[t(211)];e.apply(null,n)}.bind(this)).catch(t.oe)}))},BuildingSceneLayer:function(){return r.create((function(e){return t.e(18).then(function(){var n=[t(1009)];e.apply(null,n)}.bind(this)).catch(t.oe)}))},CSVLayer:function(){return r.create((function(e){return t.e(26).then(function(){var n=[t(1010)];e.apply(null,n)}.bind(this)).catch(t.oe)}))},ElevationLayer:function(){return r.create((function(e){return t.e(11).then(function(){var n=[t(350)];e.apply(null,n)}.bind(this)).catch(t.oe)}))},FeatureLayer:function(){return r.create((function(e){return Promise.resolve().then(function(){var n=[t(199)];e.apply(null,n)}.bind(this)).catch(t.oe)}))},GroupLayer:function(){return r.create((function(e){return t.e(14).then(function(){var n=[t(1005)];e.apply(null,n)}.bind(this)).catch(t.oe)}))},GeoRSSLayer:function(){return r.create((function(e){return t.e(33).then(function(){var n=[t(1011)];e.apply(null,n)}.bind(this)).catch(t.oe)}))},ImageryLayer:function(){return r.create((function(e){return Promise.all([t.e(8),t.e(21)]).then(function(){var n=[t(1006)];e.apply(null,n)}.bind(this)).catch(t.oe)}))},IntegratedMeshLayer:function(){return r.create((function(e){return t.e(27).then(function(){var n=[t(1012)];e.apply(null,n)}.bind(this)).catch(t.oe)}))},KMLLayer:function(){return r.create((function(e){return t.e(28).then(function(){var n=[t(1013)];e.apply(null,n)}.bind(this)).catch(t.oe)}))},MapImageLayer:function(){return r.create((function(e){return Promise.all([t.e(6),t.e(13)]).then(function(){var n=[t(1004)];e.apply(null,n)}.bind(this)).catch(t.oe)}))},MapNotesLayer:function(){return r.create((function(e){return t.e(85).then(function(){var n=[t(1239)];e.apply(null,n)}.bind(this)).catch(t.oe)}))},OpenStreetMapLayer:function(){return r.create((function(e){return t.e(29).then(function(){var n=[t(1014)];e.apply(null,n)}.bind(this)).catch(t.oe)}))},PointCloudLayer:function(){return r.create((function(e){return t.e(17).then(function(){var n=[t(1015)];e.apply(null,n)}.bind(this)).catch(t.oe)}))},RouteLayer:function(){return r.create((function(e){return t.e(86).then(function(){var n=[t(1240)];e.apply(null,n)}.bind(this)).catch(t.oe)}))},SceneLayer:function(){return r.create((function(e){return t.e(22).then(function(){var n=[t(1007)];e.apply(null,n)}.bind(this)).catch(t.oe)}))},StreamLayer:function(){return r.create((function(e){return t.e(31).then(function(){var n=[t(1008)];e.apply(null,n)}.bind(this)).catch(t.oe)}))},TileImageryLayer:function(){return r.create((function(e){return Promise.all([t.e(8),t.e(47)]).then(function(){var n=[t(1241)];e.apply(null,n)}.bind(this)).catch(t.oe)}))},TileLayer:function(){return r.create((function(e){return Promise.all([t.e(6),t.e(12)]).then(function(){var n=[t(351)];e.apply(null,n)}.bind(this)).catch(t.oe)}))},UnknownLayer:function(){return r.create((function(e){return t.e(87).then(function(){var n=[t(1244)];e.apply(null,n)}.bind(this)).catch(t.oe)}))},UnsupportedLayer:function(){return r.create((function(e){return t.e(88).then(function(){var n=[t(1245)];e.apply(null,n)}.bind(this)).catch(t.oe)}))},VectorTileLayer:function(){return r.create((function(e){return t.e(19).then(function(){var n=[t(1016)];e.apply(null,n)}.bind(this)).catch(t.oe)}))},WebTileLayer:function(){return r.create((function(e){return t.e(32).then(function(){var n=[t(1003)];e.apply(null,n)}.bind(this)).catch(t.oe)}))},WMSLayer:function(){return r.create((function(e){return t.e(24).then(function(){var n=[t(1017)];e.apply(null,n)}.bind(this)).catch(t.oe)}))},WMTSLayer:function(){return r.create((function(e){return t.e(68).then(function(){var n=[t(1246)];e.apply(null,n)}.bind(this)).catch(t.oe)}))}}}.apply(null,r))||(e.exports=a)},1209:function(e,n,t){var r,a;r=[t.dj.c(e.i),n],void 0===(a=function(e,n){function t(e,n){return!!e.typeKeywords&&e.typeKeywords.indexOf(n)>-1}Object.defineProperty(n,"__esModule",{value:!0}),n.addTypeKeyword=function(e,n){if(!t(e,n)){var r=e.typeKeywords;r?r.push(n):e.typeKeywords=[n]}},n.hasTypeKeyword=t,n.removeTypeKeyword=function(e,n){var t=e.typeKeywords;if(t){var r=t.indexOf(n);r>-1&&t.splice(r,1)}}}.apply(null,r))||(e.exports=a)}}]);